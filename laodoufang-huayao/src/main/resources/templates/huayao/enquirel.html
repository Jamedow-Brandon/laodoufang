<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <title></title>
    <link rel="stylesheet" type="text/css" href="/static/huayao/css/reset.css"/>
    <link rel="stylesheet" type="text/css" href="/static/huayao/css/index.css"/>
</head>

<body>
<div class="contain">
    <div class="headBar">
        <img class="bigLogo" src="/static/huayao/images/huayao-logo-big.png"/>
        <div class="languageSwitch fr">
            <span class="lang on" lang="">中文</span>
            <span style="margin: 0 12px;">|</span>
            <span class="lang" lang="en">English</span>
        </div>
    </div>
</div>
<div class="backBar contain">
    <a href="/">
        <div class="backBarBtn fr">HOME</div>
    </a>
</div>
<div class="mainInfo">
    <div class="mainInfoBar"></div>
    <div class="formList">
        <div class="formL fl">
            <p>我们的服务团队将协助您获取更丰富的资源与服务。</p>
            <p style="margin-top: 370px;text-align: right;">联系方式</p>
        </div>
        <div class="formR fl">
            <form action="" method="post">
                <p>采购产品*</p>
                <select id="productId">
                    <option th:each="product : ${products}"
                            th:value="${product.name}"
                            th:utext="${product.name}" th:selected="(${product.id} == *{productId})">HUAYAO-DPPD
                    </option>
                </select>
                <p style="margin-top: 30px;">采购数量* （单位:kg）</p>
                <input type="text" id="demand" value="" placeholder="请输入采购数量"/>
                <p style="margin-top: 40px;">需求描述</p>
                <textarea id="requirementDescription" rows="" cols="" placeholder="请帮助我们了解您的需求"></textarea>

                <div style="margin-top: 10px;" class="clearfix">
                    <div class="fl" style="margin-right: 100px;">
                        <p style="margin-top: 30px;">公司／单位名称</p>
                        <input type="text" id="companyName" value="" placeholder="请输入企业名称"/>
                    </div>
                    <div class="fl">
                        <p style="margin-top: 30px;">联系邮箱* </p>
                        <input type="text" id="receiver" value="" placeholder=""/>
                    </div>
                </div>

                <div style="margin-top: 10px;" class="clearfix">
                    <div class="fl" style="margin-right: 100px;">
                        <p style="margin-top: 30px;">国家／地区* </p>
                        <select id="region" onchange="chooseArea(this.id,this.value);">
                            <option value="">请选择国家或地区</option>
                            <option value="000000">中华人民共和国</option>
                            <option value="999999">外国</option>
                        </select>
                    </div>
                    <div class="fl">
                        <p style="margin-top: 30px;">联系电话* </p>
                        <input type="text" id="phone" value="" placeholder=""/>
                    </div>
                </div>

                <div style="margin-top: 10px;" class="clearfix">
                    <div id="regionSelect">
                        <div class="fl" style="margin-right: 100px;">
                            <p style="margin-top: 30px;">省* </p>
                            <select id="province" onchange="chooseArea(this.id,this.value);">
                                <option value="">请选择省份</option>
                            </select>
                        </div>
                        <div class="fl">
                            <p style="margin-top: 30px;">区域* </p>
                            <select id="district">
                                <option value="">请选择区域</option>
                            </select>
                        </div>
                    </div>
                    <div id="addressInput" style="display: none;">
                        <div class="fl">
                            <p style="margin-top: 30px;">联系地址* </p>
                            <input type="text" id="betterAddress" value="" placeholder=""/>
                        </div>
                    </div>
                </div>
            </form>
            <div class="enquire__btn" style="margin-top: 70px;" onclick="sendMail();">发送邮箱</div>
        </div>
    </div>
</div>
<div th:replace="huayao/footer :: copyright">
    <div style="background: #515151">
        <div class="footerUp contain">
            <img src="/static/huayao/images/huayao-logo.png" class="footerLogo fl"/>
            <div class="footerUp__info fl" style="margin-right: 154px;">
                <p><span class="footerUp__infoT">工作时间联系方式</span>+86 0510 88767887</p>
                <p><span class="footerUp__infoT"> 传真</span>+86 0510 88762603</p>
                <p><span class="footerUp__infoT">邮箱 </span>liye@huayao-chem.com</p>
            </div>
            <div class="footerUp__info fl">
                <div class="fl" style="margin-right: 14px;"><span>地址   </span></div>
                <div class="fl">
                    <p>江苏省</p>
                    <p>无锡市锡山区</p>
                    <p>东港镇</p>
                </div>
            </div>
        </div>
        <div class="footerDown contain">
            <span style="color: #23aae5;margin-right: 36px;">我们的服务</span>
            <span style="color: #9B9EA0;margin-right: 12px;">我们的产品优势</span>
            <span>  独立的生产，交货及时，质量保证，产品多样化，广为流行，独特而实用。顾客至上，诚信为本，是不可改变的创业初衷和理念</span>
        </div>
    </div>
</div>
<div class="toTop"></div>
<script src="/static/huayao/js/jquery-1.11.1.min.js"></script>
<script src="/static/script/application.js"></script>
<script type="text/javascript">
    (function () {
        var $toTop = $('.toTop');

        $(window).on("scroll", function () {
            if ($(this).scrollTop() >= 500) {
                $toTop.fadeIn();
            } else {
                $toTop.fadeOut();
            }
        });

        $toTop.on('click', function () {
            $(window).scrollTop(0)
        });
    })();


    function sendMail() {
        $.ajax({
            url: "/sys/mail/send",
            type: "post",
            data: {
                productId: $("#productId").val(),
                demand: $("#demand").val(),
                requirementDescription: $("#requirementDescription").val(),
                companyName: $("#companyName").val(),
                phone: $("#phone").val(),
                region: $("#region").val(),
                province: $("#province").val(),
                district: $("#district").val(),
                betterAddress: $("#betterAddress").val() || "",
                receiver: $("#receiver").val()
            },
            success: function (data) {
                alert("发送成功！");
            }
        });
    }

    function chooseArea(_id, _value) {
        if (_id == "region" && _value == "999999") {
            $("#regionSelect").hide();
            $("#addressInput").show();
        } else {
            $("#regionSelect").show();
            $("#addressInput").hide();
        }
        var needLoad;
        $.ajax({
            url: "/sys/area/getChildrenByParentId",
            type: "get",
            data: {
                parentId: _value
            },
            success: function (areas) {
                var options = "";
                if (_id == "region") {
                    needLoad = "province";
                    options += "<option>请选择省份</option>";
                    $("#district").html("<option>请选择区域</option>");
                } else if (_id == "province") {
                    needLoad = "district";
                    options += "<option>请选择区域</option>";
                }
                $.each(areas, function (index, area) {
                    options += "<option value='" + area.code + "'>" + area.name + "</option>"
                });
                $("#" + needLoad).html(options);
            }
        });
    }
</script>
</body>

</html>